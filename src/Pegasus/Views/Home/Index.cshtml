@using Pegasus.Extensions
@model Pegasus.ViewModels.Home.IndexViewModel
@{
    ViewData["Title"] = "Home Page";
}

<div class="row">
    <div class="col-md-3">
        <div class="section">
            <input type="hidden" asp-for="Project.Id" />
            <h4>Projects</h4>
            <div>
                <a asp-action="Index" asp-route-id="0">All</a>
            </div>
            @foreach (var project in Model.Projects)
            {
            <div>
                <a asp-action="Index" asp-route-id="@project.Id">@project.Name</a>
            </div>
            }
        </div>
        <div class="section">
            <h4>Saved Searches</h4>
            <ul>
                <li>Pegasus</li>
                <li>Hereford Securities Ltd</li>
                <li>Project 3</li>
            </ul>
        </div>
        <div class="section">
            <h4>Filters</h4>
            <ul>
                <li>Pegasus</li>
                <li>Hereford Securities Ltd</li>
                <li>Project 3</li>
            </ul>
        </div>
    </div>
    <div class="col-md-9">
        <div class="panel">
            <div class="panel-heading">
                <h4>Project: @Model.Project.Name</h4>
            </div>
            <div class="panel-body">
                <div class="section table-font-sm">
                    <div class="table-responsive">

                        <table class="table table-striped table-condensed table-hover">
                            <tbody>
                                @foreach (var task in Model.ProjectTasks)
                                {
                                    <tr>
                                        <td>
                                            <div class="table-row-condensed">
                                                <span class="@task.TaskProfile.TaskRefStyle">
                                                    @Html.ActionLink(task.TaskRef, "Edit", "Home", new { id = @task.Id })
                                                </span>
                                            </div>
                                        </td>

                                        <td>
                                            <div class="table-row-condensed">
                                                <span class="@task.TaskProfile.TaskTextStyle">
                                                    @Html.Raw(task.TaskProfile.TaskIcon)
                                                    @Html.ActionLink(@task.Name, "Edit", "Home", new { id = @task.Id })
                                                </span>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="table-row-condensed">
                                                <div class="@task.TaskProfile.TaskTimeStyle">
                                                    <span>
                                                        @task.Modified.ToTaskDate()
                                                    </span>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
